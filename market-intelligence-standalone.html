<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🤖 AI-Powered Market Intelligence - aiKODA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'aikoda-blue': '#1e40af',
                        'aikoda-purple': '#7c3aed',
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #dbeafe 0%, #e0e7ff 100%);
        }
        .card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .progress-bar {
            background: linear-gradient(90deg, #3b82f6 0%, #1d4ed8 100%);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="max-w-7xl mx-auto p-6">
        <!-- Header -->
        <div class="mb-8 fade-in">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-gray-900 mb-2">
                        🤖 AI-Powered Market Intelligence
                    </h1>
                    <p class="text-gray-600">
                        Indonesia-Japan Workforce Deployment Analytics • Live Data Dashboard
                    </p>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="px-4 py-2 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 flex items-center text-sm">
                        🔄 Refresh Data
                    </button>
                    <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center text-sm">
                        📥 Export Report
                    </button>
                </div>
            </div>
        </div>

        <!-- Region Controls -->
        <div class="flex items-center justify-between mb-6 fade-in">
            <div class="flex items-center space-x-4">
                <div class="flex items-center space-x-2">
                    <span class="text-blue-600">🌍</span>
                    <span class="font-medium">Region:</span>
                    <div class="flex space-x-2">
                        <button id="japan-btn" class="px-3 py-1 rounded-md text-sm bg-blue-600 text-white">
                            🇯🇵 Japan
                        </button>
                        <button id="indonesia-btn" class="px-3 py-1 rounded-md text-sm bg-white border border-gray-300">
                            🇮🇩 Indonesia
                        </button>
                    </div>
                </div>
            </div>
            <div class="flex items-center space-x-2">
                <span class="text-gray-600">⏰</span>
                <span class="font-medium">Time Range:</span>
                <select class="px-3 py-1 border rounded-md text-sm">
                    <option value="quarterly">Quarterly</option>
                    <option value="monthly">Monthly</option>
                    <option value="yearly">Yearly</option>
                </select>
            </div>
        </div>

        <!-- Key Metrics -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8 fade-in">
            <div class="card rounded-lg p-6 border-blue-200">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-sm font-medium text-gray-600">Total Candidates</h3>
                    <span class="text-blue-600">👥</span>
                </div>
                <div class="text-2xl font-bold text-blue-700 mb-2" id="total-candidates">
                    820,000
                </div>
                <p class="text-xs text-gray-600">
                    <span class="text-green-600">↗ +12%</span> from last period
                </p>
            </div>

            <div class="card rounded-lg p-6 border-green-200">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-sm font-medium text-gray-600">Successful Placements</h3>
                    <span class="text-green-600">✅</span>
                </div>
                <div class="text-2xl font-bold text-green-700 mb-2" id="successful-placements">
                    164,000
                </div>
                <p class="text-xs text-gray-600">
                    <span class="text-green-600">↗ +18%</span> placement rate
                </p>
            </div>

            <div class="card rounded-lg p-6 border-purple-200">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-sm font-medium text-gray-600">Cultural Fit Score</h3>
                    <span class="text-purple-600">🧠</span>
                </div>
                <div class="text-2xl font-bold text-purple-700 mb-2" id="cultural-fit">
                    76.3%
                </div>
                <p class="text-xs text-gray-600">
                    <span class="text-green-600">↗ +5.2%</span> avg improvement
                </p>
            </div>

            <div class="card rounded-lg p-6 border-orange-200">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-sm font-medium text-gray-600">Time to Placement</h3>
                    <span class="text-orange-600">⏱️</span>
                </div>
                <div class="text-2xl font-bold text-orange-700 mb-2" id="time-placement">
                    45 days
                </div>
                <p class="text-xs text-gray-600">
                    <span class="text-red-600">↘ -8%</span> faster than target
                </p>
            </div>
        </div>

        <!-- Tabs -->
        <div class="card rounded-lg p-1 mb-6 fade-in">
            <div class="flex space-x-1">
                <button class="tab-btn px-4 py-2 rounded-md text-sm font-medium bg-white text-blue-600 shadow-sm" data-tab="insights">
                    🔍 Key Insights
                </button>
                <button class="tab-btn px-4 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-gray-900" data-tab="skills">
                    🚀 Skills Demand
                </button>
                <button class="tab-btn px-4 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-gray-900" data-tab="cultural">
                    🌸 Cultural Trends
                </button>
                <button class="tab-btn px-4 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-gray-900" data-tab="salary">
                    💰 Salary Intelligence
                </button>
                <button class="tab-btn px-4 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-gray-900" data-tab="ai-analysis">
                    🤖 AI Analysis
                </button>
            </div>
        </div>

        <!-- Tab Content -->
        <div class="space-y-6">
            <!-- Key Insights Tab -->
            <div id="insights-tab" class="tab-content fade-in">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="card rounded-lg p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold">Japan Foreign Worker Surge</h3>
                            <div class="flex items-center space-x-2">
                                <span class="px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs">Critical</span>
                                <span class="text-green-600">📈</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-3">Japan expects 820,000 skilled foreign workers by 2025 - highest in history</p>
                        <div class="flex items-center justify-between">
                            <span class="text-2xl font-bold text-blue-700">+820K</span>
                            <span class="text-gray-400">→</span>
                        </div>
                    </div>

                    <div class="card rounded-lg p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold">AI Adoption Leadership</h3>
                            <div class="flex items-center space-x-2">
                                <span class="px-2 py-1 bg-orange-100 text-orange-700 rounded-full text-xs">High</span>
                                <span class="text-green-600">📈</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-3">76% of Indonesian workers use AI daily - leading Asia Pacific region</p>
                        <div class="flex items-center justify-between">
                            <span class="text-2xl font-bold text-blue-700">+76%</span>
                            <span class="text-gray-400">→</span>
                        </div>
                    </div>

                    <div class="card rounded-lg p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold">Digital Economy Boom</h3>
                            <div class="flex items-center space-x-2">
                                <span class="px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs">Critical</span>
                                <span class="text-green-600">📈</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-3">Indonesia's digital economy projected to reach $124B by 2025</p>
                        <div class="flex items-center justify-between">
                            <span class="text-2xl font-bold text-blue-700">$124B</span>
                            <span class="text-gray-400">→</span>
                        </div>
                    </div>

                    <div class="card rounded-lg p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold">Cross-Cultural Skills Premium</h3>
                            <div class="flex items-center space-x-2">
                                <span class="px-2 py-1 bg-orange-100 text-orange-700 rounded-full text-xs">High</span>
                                <span class="text-green-600">📈</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-3">Cultural intelligence shows 60% growth - highest demand skill</p>
                        <div class="flex items-center justify-between">
                            <span class="text-2xl font-bold text-blue-700">+60%</span>
                            <span class="text-gray-400">→</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Skills Demand Tab -->
            <div id="skills-tab" class="tab-content hidden fade-in">
                <div class="card rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">⚡</span>
                        Top Skills in Demand - <span id="skills-region">Japan</span>
                    </h3>
                    <div class="space-y-4" id="skills-content">
                        <!-- Skills will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Cultural Trends Tab -->
            <div id="cultural-tab" class="tab-content hidden fade-in">
                <div class="card rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">⭐</span>
                        Cultural Intelligence Trends - <span id="cultural-region">Japan</span>
                    </h3>
                    <div class="space-y-4" id="cultural-content">
                        <!-- Cultural trends will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Salary Intelligence Tab -->
            <div id="salary-tab" class="tab-content hidden fade-in">
                <div class="card rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <span class="mr-2">💰</span>
                        Salary Ranges - <span id="salary-region">Japan</span>
                    </h3>
                    <div class="space-y-4" id="salary-content">
                        <!-- Salary ranges will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- AI Analysis Tab -->
            <div id="ai-analysis-tab" class="tab-content hidden fade-in">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="card rounded-lg p-6">
                        <h3 class="text-lg font-semibold mb-4 flex items-center">
                            <span class="mr-2">🧠</span>
                            47-Dimension Cultural Analysis
                        </h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <span class="text-sm">Cultural Compatibility</span>
                                <span class="font-semibold" id="cultural-compatibility">76.3%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="progress-bar h-2 rounded-full" style="width: 76.3%"></div>
                            </div>
                            <div class="mt-4 p-3 bg-blue-50 rounded-lg">
                                <p class="text-sm text-blue-700">
                                    <strong>AI Insight:</strong> Cultural intelligence matching shows significant 
                                    improvement in placement success rates. The 47-dimension assessment provides 
                                    deeper insights into candidate-company fit.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="card rounded-lg p-6">
                        <h3 class="text-lg font-semibold mb-4 flex items-center">
                            <span class="mr-2">🎯</span>
                            Predictive Analytics
                        </h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <span class="text-sm">Placement Success Rate</span>
                                <span class="font-semibold" id="placement-rate">20.0%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="progress-bar h-2 rounded-full" style="width: 20%"></div>
                            </div>
                            <div class="mt-4 p-3 bg-green-50 rounded-lg">
                                <p class="text-sm text-green-700">
                                    <strong>Prediction:</strong> AI models predict 25% increase in successful 
                                    placements over next quarter with continued cultural intelligence integration.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="mt-8 p-4 card rounded-lg fade-in">
            <div class="flex items-center justify-between">
                <div class="text-sm text-gray-600">
                    Last updated: <span id="last-updated"></span> • Next refresh: <span id="next-refresh"></span>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">Real-time Data</span>
                    <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">AI-Powered</span>
                    <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">Brexa Integration Ready</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Market data
        const marketData = {
            japan: {
                totalCandidates: 820000,
                successfulPlacements: 164000,
                avgCulturalFit: 76.3,
                avgTimeToPlacement: 45,
                topSkills: [
                    { skill: 'AI/ML Engineering', demand: 95, growth: 35 },
                    { skill: 'Python/Go Development', demand: 92, growth: 30 },
                    { skill: 'DevOps Engineering', demand: 90, growth: 20 },
                    { skill: 'Cloud Architecture', demand: 88, growth: 25 },
                    { skill: 'Cultural Intelligence', demand: 85, growth: 40 }
                ],
                salaryRanges: [
                    { level: 'Junior (1-2 years)', min: 5000000, max: 7000000, currency: 'JPY' },
                    { level: 'Mid-Level (3-5 years)', min: 6000000, max: 9500000, currency: 'JPY' },
                    { level: 'Senior (6+ years)', min: 8000000, max: 15000000, currency: 'JPY' },
                    { level: 'AI/ML Specialist', min: 9000000, max: 12000000, currency: 'JPY' }
                ],
                culturalTrends: [
                    { philosophy: 'Wa (Harmony)', importance: 0.95, change: 5 },
                    { philosophy: 'Kaizen (Continuous Improvement)', importance: 0.92, change: 8 },
                    { philosophy: 'Omotenashi (Hospitality)', importance: 0.88, change: 12 },
                    { philosophy: 'Digital Transformation', importance: 0.83, change: 28 }
                ]
            },
            indonesia: {
                totalCandidates: 600000,
                successfulPlacements: 180000,
                avgCulturalFit: 91.2,
                avgTimeToPlacement: 32,
                topSkills: [
                    { skill: 'Mobile Development', demand: 88, growth: 35 },
                    { skill: 'React/Node.js', demand: 85, growth: 25 },
                    { skill: 'Cloud Architecture', demand: 92, growth: 40 },
                    { skill: 'AI/Data Science', demand: 90, growth: 50 },
                    { skill: 'Cross-Cultural Communication', demand: 76, growth: 60 }
                ],
                salaryRanges: [
                    { level: 'Junior Developer', min: 120000000, max: 180000000, currency: 'IDR' },
                    { level: 'Mid-Level Developer', min: 180000000, max: 300000000, currency: 'IDR' },
                    { level: 'Senior Developer', min: 300000000, max: 480000000, currency: 'IDR' },
                    { level: 'Cloud Architect', min: 480000000, max: 528000000, currency: 'IDR' }
                ],
                culturalTrends: [
                    { philosophy: 'Gotong Royong (Cooperation)', importance: 0.93, change: 3 },
                    { philosophy: 'Bhineka Tunggal Ika (Unity in Diversity)', importance: 0.89, change: 7 },
                    { philosophy: 'Pancasila Values', importance: 0.85, change: 10 },
                    { philosophy: 'Digital Innovation', importance: 0.78, change: 32 }
                ]
            }
        };

        let currentRegion = 'japan';

        // Format currency
        function formatCurrency(amount, currency) {
            if (currency === 'JPY') {
                return `¥${(amount / 1000000).toFixed(1)}M`;
            } else if (currency === 'IDR') {
                return `Rp${(amount / 1000000000).toFixed(1)}B`;
            }
            return amount.toLocaleString();
        }

        // Update metrics
        function updateMetrics() {
            const data = marketData[currentRegion];
            document.getElementById('total-candidates').textContent = data.totalCandidates.toLocaleString();
            document.getElementById('successful-placements').textContent = data.successfulPlacements.toLocaleString();
            document.getElementById('cultural-fit').textContent = data.avgCulturalFit + '%';
            document.getElementById('time-placement').textContent = data.avgTimeToPlacement + ' days';
            document.getElementById('cultural-compatibility').textContent = data.avgCulturalFit + '%';
            document.getElementById('placement-rate').textContent = ((data.successfulPlacements / data.totalCandidates) * 100).toFixed(1) + '%';
        }

        // Update skills content
        function updateSkillsContent() {
            const data = marketData[currentRegion];
            const content = document.getElementById('skills-content');
            const regionName = currentRegion === 'japan' ? 'Japan' : 'Indonesia';
            document.getElementById('skills-region').textContent = regionName;
            
            content.innerHTML = data.topSkills.map(skill => `
                <div class="p-4 bg-gray-50 rounded-lg">
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="font-semibold text-gray-900">${skill.skill}</h4>
                        <div class="flex items-center space-x-4">
                            <span class="px-2 py-1 bg-gray-200 rounded text-xs">
                                Demand: ${skill.demand}%
                            </span>
                            <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs">
                                Growth: +${skill.growth}%
                            </span>
                        </div>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="progress-bar h-2 rounded-full" style="width: ${skill.demand}%"></div>
                    </div>
                </div>
            `).join('');
        }

        // Update cultural content
        function updateCulturalContent() {
            const data = marketData[currentRegion];
            const content = document.getElementById('cultural-content');
            const regionName = currentRegion === 'japan' ? 'Japan' : 'Indonesia';
            document.getElementById('cultural-region').textContent = regionName;
            
            content.innerHTML = data.culturalTrends.map(trend => `
                <div class="p-4 bg-gray-50 rounded-lg">
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="font-semibold text-gray-900">${trend.philosophy}</h4>
                        <div class="flex items-center space-x-4">
                            <span class="text-sm text-gray-600">
                                Importance: ${(trend.importance * 100).toFixed(0)}%
                            </span>
                            <span class="px-2 py-1 rounded text-xs ${trend.change > 10 ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-700'}">
                                ${trend.change > 0 ? '+' : ''}${trend.change}% change
                            </span>
                        </div>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="progress-bar h-2 rounded-full" style="width: ${trend.importance * 100}%"></div>
                    </div>
                </div>
            `).join('');
        }

        // Update salary content
        function updateSalaryContent() {
            const data = marketData[currentRegion];
            const content = document.getElementById('salary-content');
            const regionName = currentRegion === 'japan' ? 'Japan' : 'Indonesia';
            document.getElementById('salary-region').textContent = regionName;
            
            content.innerHTML = data.salaryRanges.map(range => `
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                    <div class="flex-1">
                        <h4 class="font-semibold text-gray-900 mb-2">${range.level}</h4>
                        <div class="flex items-center space-x-4">
                            <span class="text-sm text-gray-600">
                                Min: ${formatCurrency(range.min, range.currency)}
                            </span>
                            <span class="text-sm text-gray-600">
                                Max: ${formatCurrency(range.max, range.currency)}
                            </span>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-lg font-bold text-green-700">
                            ${formatCurrency((range.min + range.max) / 2, range.currency)}
                        </div>
                        <div class="text-sm text-gray-500">Average</div>
                    </div>
                </div>
            `).join('');
        }

        // Update timestamps
        function updateTimestamps() {
            const now = new Date();
            const nextRefresh = new Date(now.getTime() + 15 * 60 * 1000);
            document.getElementById('last-updated').textContent = now.toLocaleString();
            document.getElementById('next-refresh').textContent = nextRefresh.toLocaleString();
        }

        // Initialize
        function init() {
            updateMetrics();
            updateSkillsContent();
            updateCulturalContent();
            updateSalaryContent();
            updateTimestamps();

            // Region buttons
            document.getElementById('japan-btn').addEventListener('click', () => {
                currentRegion = 'japan';
                document.getElementById('japan-btn').className = 'px-3 py-1 rounded-md text-sm bg-blue-600 text-white';
                document.getElementById('indonesia-btn').className = 'px-3 py-1 rounded-md text-sm bg-white border border-gray-300';
                updateMetrics();
                updateSkillsContent();
                updateCulturalContent();
                updateSalaryContent();
            });

            document.getElementById('indonesia-btn').addEventListener('click', () => {
                currentRegion = 'indonesia';
                document.getElementById('indonesia-btn').className = 'px-3 py-1 rounded-md text-sm bg-blue-600 text-white';
                document.getElementById('japan-btn').className = 'px-3 py-1 rounded-md text-sm bg-white border border-gray-300';
                updateMetrics();
                updateSkillsContent();
                updateCulturalContent();
                updateSalaryContent();
            });

            // Tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const tab = btn.dataset.tab;
                    
                    // Update button styles
                    document.querySelectorAll('.tab-btn').forEach(b => {
                        b.className = 'tab-btn px-4 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-gray-900';
                    });
                    btn.className = 'tab-btn px-4 py-2 rounded-md text-sm font-medium bg-white text-blue-600 shadow-sm';
                    
                    // Show/hide content
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.add('hidden');
                    });
                    document.getElementById(tab + '-tab').classList.remove('hidden');
                });
            });

            // Auto-refresh every 5 minutes
            setInterval(updateTimestamps, 300000);
        }

        // Start when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>